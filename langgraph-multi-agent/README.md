# ğŸ¤– LangGraph å¤š Agent ç³»ç»Ÿå®æˆ˜

## ğŸ“– é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®å±•ç¤ºå¦‚ä½•ä½¿ç”¨ LangGraph æ¡†æ¶æ„å»ºå¤æ‚çš„å¤š Agent åä½œç³»ç»Ÿã€‚é€šè¿‡å®æˆ˜æ¡ˆä¾‹å­¦ä¹  Agent ç¼–æ’ã€çŠ¶æ€ç®¡ç†ã€æ¡ä»¶è·¯ç”±ç­‰æ ¸å¿ƒæŠ€èƒ½ã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

- âœ… æŒæ¡ LangGraph æ ¸å¿ƒæ¦‚å¿µï¼ˆStateã€Nodeã€Edgeã€Graphï¼‰
- âœ… å­¦ä¼šæ„å»ºçŠ¶æ€æœºå·¥ä½œæµ
- âœ… å®ç°å¤š Agent åä½œæ¨¡å¼
- âœ… æŒæ¡æ¡ä»¶è·¯ç”±å’ŒåŠ¨æ€å†³ç­–
- âœ… äº†è§£å®é™…åº”ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: LangGraph + LangChain
- **LLM**: DeepSeek APIï¼ˆå…¼å®¹ OpenAIï¼‰
- **Python**: 3.11+
- **ä¾èµ–**: langgraph, langchain, langchain-openai

## ğŸ“š é¡¹ç›®ç»“æ„

```
langgraph-multi-agent/
â”œâ”€â”€ langgraph-multi-agent.ipynb    # ä¸» Notebook
â”œâ”€â”€ README.md                       # é¡¹ç›®è¯´æ˜
â””â”€â”€ scripts/                        # è°ƒè¯•è„šæœ¬ï¼ˆå¯é€‰ï¼‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install langgraph langchain langchain-openai sentence-transformers
```

### 2. é…ç½® API Key

åœ¨ Notebook ä¸­æ›¿æ¢ä½ çš„ DeepSeek API Keyï¼š

```python
os.environ["OPENAI_API_KEY"] = "your-deepseek-api-key-here"
os.environ["OPENAI_API_BASE"] = "https://api.deepseek.com"
```

### 3. è¿è¡Œ Notebook

æ‰“å¼€ `langgraph-multi-agent.ipynb` å¹¶æŒ‰é¡ºåºæ‰§è¡Œå„ä¸ª cellã€‚

## ğŸ“‹ å†…å®¹æ¦‚è§ˆ

### ä¸€ã€LangGraph åŸºç¡€æ¦‚å¿µ

- State çŠ¶æ€ç®¡ç†
- Node èŠ‚ç‚¹å®šä¹‰
- Edge è¾¹å’Œè·¯ç”±
- Graph å·¥ä½œæµç¼–æ’
- ç®€å•ç¤ºä¾‹æ¼”ç¤º

### äºŒã€å®æˆ˜æ¡ˆä¾‹ï¼šæ™ºèƒ½å†…å®¹åˆ›ä½œå›¢é˜Ÿ

**ç³»ç»Ÿæ¶æ„**ï¼š
```
ç”¨æˆ·éœ€æ±‚ â†’ ç ”ç©¶å‘˜ Agent â†’ ä½œå®¶ Agent â†’ ç¼–è¾‘ Agent â†’ æœ€ç»ˆå†…å®¹
```

**Agent è§’è‰²**ï¼š
- ğŸ“š **ç ”ç©¶å‘˜ Agent**ï¼šæ”¶é›†ä¿¡æ¯å’Œèµ„æ–™
- âœï¸ **ä½œå®¶ Agent**ï¼šæ’°å†™ç»“æ„åŒ–å†…å®¹
- ğŸ” **ç¼–è¾‘ Agent**ï¼šå®¡æ ¸å’Œæ”¹è¿›æ–‡ç« 
- ğŸ¯ **è´¨æ£€ Agent**ï¼šè¯„ä¼°å†…å®¹è´¨é‡

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- çŠ¶æ€åœ¨ Agent é—´ä¼ é€’
- æ¡ä»¶è·¯ç”±ï¼ˆæ ¹æ®è´¨é‡å†³å®šæ˜¯å¦é‡åšï¼‰
- å¾ªç¯è¿­ä»£æ”¹è¿›
- å®Œæ•´çš„å·¥ä½œæµç®¡ç†

### ä¸‰ã€é«˜çº§ç‰¹æ€§

- åŠ¨æ€è·¯ç”±æœºåˆ¶
- è´¨é‡æ£€æŸ¥å¾ªç¯
- æ™ºèƒ½å†³ç­–åˆ†æ”¯
- çŠ¶æ€æŒä¹…åŒ–

### å››ã€å¯è§†åŒ–å·¥ä½œæµ

- ASCII æµç¨‹å›¾
- å·¥ä½œæµç»“æ„å±•ç¤º
- å†³ç­–èŠ‚ç‚¹è¯´æ˜

### äº”ã€æ›´å¤šå®ç”¨æ¡ˆä¾‹

**5.1 å®¢æœå›¢é˜Ÿ Agent**
- é—®é¢˜åˆ†ç±» Agent
- æŠ€æœ¯æ”¯æŒ Agent
- è´¦å•å¤„ç† Agent
- æ™ºèƒ½è·¯ç”±åˆ°ä¸“å®¶

**5.2 ä»£ç å®¡æŸ¥å›¢é˜Ÿ**
- å®‰å…¨å®¡æŸ¥ Agent
- æ€§èƒ½å®¡æŸ¥ Agent
- é£æ ¼å®¡æŸ¥ Agent
- å¹¶è¡Œå¤„ç†æœºåˆ¶

## ğŸ¨ åº”ç”¨åœºæ™¯

### 1. å†…å®¹åˆ›ä½œç³»ç»Ÿ
- è‡ªåŠ¨åŒ–æ–‡ç« ç”Ÿæˆ
- å¤šè½®è´¨é‡æ”¹è¿›
- åä½œå¼å†™ä½œ

### 2. å®¢æˆ·æœåŠ¡ç³»ç»Ÿ
- æ™ºèƒ½é—®é¢˜åˆ†ç±»
- ä¸“å®¶è·¯ç”±
- è‡ªåŠ¨åŒ–å“åº”

### 3. ä»£ç å®¡æŸ¥æµç¨‹
- å¤šç»´åº¦ä»£ç æ£€æŸ¥
- å¹¶è¡Œå®¡æŸ¥
- è‡ªåŠ¨åŒ–å»ºè®®

### 4. æ•°æ®åˆ†æç®¡é“
- æ•°æ®æ”¶é›† â†’ æ¸…æ´— â†’ åˆ†æ â†’ æŠ¥å‘Š
- å¤šé˜¶æ®µå¤„ç†
- é”™è¯¯é‡è¯•æœºåˆ¶

### 5. æ™ºèƒ½åŠ©æ‰‹ç³»ç»Ÿ
- ä»»åŠ¡åˆ†è§£
- ä¸“ä¸šåŒ–å¤„ç†
- ç»“æœæ•´åˆ

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. çŠ¶æ€è®¾è®¡
- å®šä¹‰æ¸…æ™°çš„çŠ¶æ€ç»“æ„
- ä½¿ç”¨ TypedDict ç±»å‹æç¤º
- è€ƒè™‘çŠ¶æ€çš„æ¼”åŒ–è¿‡ç¨‹

### 2. Agent è®¾è®¡
- å•ä¸€èŒè´£åŸåˆ™
- æ˜ç¡®çš„è¾“å…¥è¾“å‡º
- å¯æµ‹è¯•æ€§

### 3. è·¯ç”±ç­–ç•¥
- æ¸…æ™°çš„å†³ç­–é€»è¾‘
- é¿å…æ­»å¾ªç¯
- è®¾ç½®æœ€å¤§è¿­ä»£æ¬¡æ•°

### 4. é”™è¯¯å¤„ç†
- å¼‚å¸¸æ•è·
- å›é€€æœºåˆ¶
- æ—¥å¿—è®°å½•

### 5. æ€§èƒ½ä¼˜åŒ–
- å¹¶è¡Œå¤„ç†ç‹¬ç«‹ä»»åŠ¡
- ç¼“å­˜é‡å¤è®¡ç®—
- æµå¼è¾“å‡º

## ğŸ” å…³é”®ä»£ç ç¤ºä¾‹

### å®šä¹‰çŠ¶æ€

```python
class AgentState(TypedDict):
    topic: str
    research_notes: str
    draft_content: str
    final_content: str
    messages: Annotated[List, operator.add]
    next_agent: str
    iteration: int
```

### åˆ›å»º Agent

```python
def researcher_agent(state: AgentState) -> AgentState:
    # Agent é€»è¾‘
    result = llm.invoke(prompt)
    return {
        **state,
        "research_notes": result.content,
        "next_agent": "writer"
    }
```

### æ„å»ºå·¥ä½œæµ

```python
workflow = StateGraph(AgentState)
workflow.add_node("researcher", researcher_agent)
workflow.add_node("writer", writer_agent)
workflow.add_conditional_edges("researcher", route_agent)
app = workflow.compile()
```

### è¿è¡Œå·¥ä½œæµ

```python
result = app.invoke(initial_state)
```

## ğŸ“Š å·¥ä½œæµå¯è§†åŒ–

```
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   å¼€å§‹      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  ç ”ç©¶å‘˜      â”‚ â† æ”¶é›†ä¿¡æ¯
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ä½œå®¶       â”‚ â† æ’°å†™å†…å®¹
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ç¼–è¾‘       â”‚ â† å®¡æ ¸æ”¹è¿›
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  è´¨é‡æ£€æŸ¥    â”‚ â† è¯„ä¼°è´¨é‡
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â†“
      [åˆ†æ•°>=8?]
       â†™     â†˜
     æ˜¯       å¦
     â†“         â†“
   ç»“æŸ    è¿”å›ä½œå®¶
```

## ğŸ”§ DeepSeek é…ç½®è¯´æ˜

### ä¸ºä»€ä¹ˆé€‰æ‹© DeepSeekï¼Ÿ

- ğŸ’° **ä»·æ ¼ä¼˜åŠ¿**ï¼šæ¯” OpenAI ä¾¿å®œçº¦ 90%
- ğŸ‡¨ğŸ‡³ **ä¸­æ–‡å‹å¥½**ï¼šå¯¹ä¸­æ–‡ç†è§£èƒ½åŠ›å¼º
- ğŸ”Œ **API å…¼å®¹**ï¼šå®Œå…¨å…¼å®¹ OpenAI API æ ¼å¼
- ğŸš€ **æ€§èƒ½ä¼˜ç§€**ï¼šæ¥è¿‘ GPT-3.5 æ°´å¹³

### é…ç½®æ–¹å¼

```python
os.environ["OPENAI_API_KEY"] = "your-deepseek-api-key"
os.environ["OPENAI_API_BASE"] = "https://api.deepseek.com"

llm = ChatOpenAI(
    model="deepseek-chat",
    openai_api_base="https://api.deepseek.com"
)
```

### è·å– API Key

1. è®¿é—® [DeepSeek Platform](https://platform.deepseek.com/)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. åˆ›å»º API Key
4. æ›¿æ¢ Notebook ä¸­çš„å ä½ç¬¦

## ğŸ“ˆ è¿›é˜¶å­¦ä¹ 

### LangGraph é«˜çº§ç‰¹æ€§

1. **Checkpointing**ï¼šä¿å­˜å’Œæ¢å¤å·¥ä½œæµçŠ¶æ€
2. **Streaming**ï¼šæµå¼è¾“å‡ºä¸­é—´ç»“æœ
3. **Subgraphs**ï¼šåµŒå¥—å·¥ä½œæµ
4. **Parallel Execution**ï¼šå¹¶è¡Œæ‰§è¡ŒèŠ‚ç‚¹
5. **Human-in-the-loop**ï¼šäººæœºåä½œ

### æ‰©å±•æ–¹å‘

- é›†æˆæ›´å¤šå·¥å…·ï¼ˆæœç´¢ã€æ•°æ®åº“ç­‰ï¼‰
- å®ç°æ›´å¤æ‚çš„å†³ç­–é€»è¾‘
- æ·»åŠ ç›‘æ§å’Œå¯è§‚æµ‹æ€§
- ä¼˜åŒ–æ€§èƒ½å’Œå¹¶å‘
- éƒ¨ç½²ä¸º Web æœåŠ¡

## ğŸ“– å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£

- [LangGraph æ–‡æ¡£](https://langchain-ai.github.io/langgraph/)
- [LangChain æ–‡æ¡£](https://python.langchain.com/)
- [DeepSeek API æ–‡æ¡£](https://platform.deepseek.com/docs)

### å­¦ä¹ èµ„æ–™

- LangGraph æ•™ç¨‹
- Multi-Agent ç³»ç»Ÿè®¾è®¡æ¨¡å¼
- Agent åä½œæœ€ä½³å®è·µ

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æå‡ºé—®é¢˜å’Œå»ºè®®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

**ğŸ‰ å¼€å§‹ä½ çš„å¤š Agent ç³»ç»Ÿä¹‹æ—…å§ï¼**

